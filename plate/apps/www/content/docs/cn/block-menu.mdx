---
title: Block Menu
docs:
  - route: /docs/components/block-context-menu
    title: Block Context Menu
    
  - route: https://pro.platejs.org/docs/components/block-menu
    title: Block Menu

  - route: https://pro.platejs.org/docs/components/block-context-menu
    title: Block Context Menu

---

<ComponentPreview name="block-menu-demo" />

<PackageInfo>

## 功能特点

- 右键点击块元素打开菜单。
- 允许对块执行转换、复制或删除等操作。
- 可自定义菜单项和操作。
- 支持键盘导航

</PackageInfo>

## Installation

```bash
npm install @udecode/plate-selection @udecode/plate-node-id
```

## Usage

```tsx
import { BlockMenuPlugin } from '@udecode/plate-selection/react';
import { NodeIdPlugin } from '@udecode/plate-node-id';
```

```tsx
const plugins = [
  // ...otherPlugins,
  NodeIdPlugin,
  BlockSelectionPlugin.configure({
    options: {
      enableContextMenu: true,
    },
  }),
  BlockMenuPlugin.configure({
    render: { aboveEditable: BlockContextMenu },
  }),
]
```

- [BlockContextMenu](/docs/components/block-context-menu)

要控制特定元素的上下文菜单的打开，你可以使用 `data-plate-open-context-menu` 属性：

```tsx
<PlateElement data-plate-open-context-menu={false} {...props}>
  {children}
</PlateElement>
```

通常，我们只需要阻止在 `<Editor />` 的内边距上右键点击。

## 示例

### Plate UI

参考上面的预览。

### Plate Plus

<ComponentPreviewPro name="context-menu-pro" />

## 插件

### BlockMenuPlugin

块菜单状态管理。

## API

### editor.api.blockMenu.hide

隐藏块菜单。

### editor.api.blockMenu.show

显示特定块的菜单。

<APIParameters>
  <APIItem name="id" type="'context' | string">
    要显示菜单的块的 ID。
  </APIItem>
  <APIItem name="position" type="{ x: number; y: number }" optional>
    显示菜单的位置。
  </APIItem>
</APIParameters>

### editor.api.blockMenu.showContextMenu

显示特定块的上下文菜单。

<APIParameters>
  <APIItem name="blockId" type="string">
    要显示上下文菜单的块的 ID。
  </APIItem>
  <APIItem name="position" type="{ x: number; y: number }">
    显示上下文菜单的位置。
  </APIItem>
</APIParameters>
